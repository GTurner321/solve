<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equation Solver</title>
    <style>
        body {
            background-color: lightgreen;
            font-family: Arial, sans-serif;
        }
        .equation {
            font-size: 24px;
            color: black;
            text-align: center;
            margin: 10px 0;
        }
        .input-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 10px 0;
        }
        .input-container input {
            width: 150px;
            padding: 5px;
            font-size: 16px;
        }
        .try-again {
            color: orange;
        }
        .congratulations {
            color: green;
            font-size: 24px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="content"></div>

    <script>
        function generateRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function generateEquation() {
            let a, b, c, d;
            do {
                a = generateRandomNumber(-10, 10);
                c = generateRandomNumber(-10, 10);
            } while (a === c);
            b = generateRandomNumber(-10, 10);
            d = generateRandomNumber(-10, 10);

            return { a, b, c, d };
        }

        function formatEquation(a, b, c, d) {
            let leftSide = '', rightSide = '';

            if (a !== 0) {
                leftSide += (a === 1 ? '' : a === -1 ? '-' : a) + 'x';
            }
            if (b !== 0) {
                leftSide += (b > 0 && a !== 0 ? '+' : '') + (b === 1 ? '' : b === -1 ? '-' : b);
            }
            if (leftSide === '') leftSide = '0';

            if (c !== 0) {
                rightSide += (c === 1 ? '' : c === -1 ? '-' : c) + 'x';
            }
            if (d !== 0) {
                rightSide += (d > 0 && c !== 0 ? '+' : '') + (d === 1 ? '' : d === -1 ? '-' : d);
            }
            if (rightSide === '') rightSide = '0';

            return `${leftSide}=${rightSide}`;
        }

        function processCommand(command, equation) {
            const { a, b, c, d } = equation;
            const match = command.match(/([+\-*/]?)(\d*)([x]?)$/);
            if (!match) return null;

            const operator = match[1];
            const number = match[2] ? parseInt(match[2], 10) : 1;
            const hasX = match[3] === 'x';

            switch (operator) {
                case '+':
                    if (hasX) {
                        return { a: a + number, b, c: c + number, d };
                    } else {
                        return { a, b: b + number, c, d: d + number };
                    }
                case '-':
                    if (hasX) {
                        return { a: a - number, b, c: c - number, d };
                    } else {
                        return { a, b: b - number, c, d: d - number };
                    }
                case '*':
                    return { a: a * number, b: b * number, c: c * number, d: d * number };
                case '/':
                    if (number !== 0) {
                        return { a: a / number, b: b / number, c: c / number, d: d / number };
                    }
                    break;
                default:
                    if (hasX) {
                        return { a: a + 1, b, c: c + 1, d };
                    } else {
                        return { a, b: b - 1, c, d: d - 1 };
                    }
            }
            return null;
        }

        function updateContent(contentDiv, equation) {
            const equationText = formatEquation(equation.a, equation.b, equation.c, equation.d);
            const equationElement = document.createElement('div');
            equationElement.className = 'equation';
            equationElement.textContent = equationText;
            contentDiv.appendChild(equationElement);

            const inputContainer = document.createElement('div');
            inputContainer.className = 'input-container';

            const input = document.createElement('input');
            input.type = 'text';
            input.placeholder = 'Enter command...';
            input.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    const newEquation = processCommand(input.value, equation);
                    if (newEquation) {
                        input.disabled = true;
                        updateContent(contentDiv, newEquation);
                    } else {
                        const tryAgain = document.createElement('div');
                        tryAgain.className = 'try-again';
                        tryAgain.textContent = 'Try again';
                        inputContainer.appendChild(tryAgain);
                    }
                }
            });

            inputContainer.appendChild(input);
            contentDiv.appendChild(inputContainer);

            if ((equation.a === 1 && equation.b === 0 && equation.c === 0) || (equation.a === 0 && equation.c === 1 && equation.d === 0)) {
                const congratulations = document.createElement('div');
                congratulations.className = 'congratulations';
                congratulations.textContent = equation.a === 1 ? `Well done! You have solved the equation. x=${equation.d}` : `Well done! You have solved the equation. x=${equation.b}`;
                contentDiv.appendChild(congratulations);
            }
        }

        window.onload = function () {
            const contentDiv = document.getElementById('content');
            const initialEquation = generateEquation();
            updateContent(contentDiv, initialEquation);
        };
    </script>
</body>
</html>
